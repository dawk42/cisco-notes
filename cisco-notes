
!How to verify your packet tracers in the future
!use tclsh
!    foreach i{a.b.c.d}{ping $i}
!

!! Basic Security
enable
configure terminal
banner motd #Warning#
line console 0
password cisco
login
line vty 0 4
password cisco
login
exit
no ip domain-lookup
enable secret class
service password-encryption

!! Configure an IPV4 interface (config-if)
interface g0/0
ip address 192.168.0.1 255.255.255.0
description R1 Link to PC-B
no shutdown
interface g0/1
ip address 192.168.1.1 255.255.255.0
description R1 Link to S1
no shutdown
end
write memory
!

!!  RIP settings (config)
router rip
version 2
no auto-summary
network a.b.c.d
default-information originate
passive-interface G0/0
  !turns off route advertising on interface  G0/0
  !use on interfaces that are not connected to routers

!! Default Route
ip route 0.0.0.0 0.0.0.0 s0/0/1

!! Configure an ipv6 interface  (config-if)
ipv6 address 2001:db8:acad:a::1/64
ipv6 address fe80::1 link-local
no shutdown
exit
!! Enable ipv6 routing (config)
ipv6 unicast-routing

!! Set domain name (config)
ip domain-name yourname

!!  SSH key creation (config)
crypto key generate rsa
crypto key generate rsa general-keys modulus 1024
!! RSA key deletion (config)
crypto key zeroize rsa
!! get SSH info
show ip ssh
!! set ssh version
ip ssh version 2

!!  Add a user  (use 0 for pt password 5 for encrypted password)
username administrator secret 0 cisco
username administrator privilege 15 secret 0 cisco

!!  Set Line 0 4 to use SSH only (config-line)
line vty 0 4
no password
login local
transport input ssh

!!  SWITCH                          ############ CHAPTER 5 ################
!! configure Duplex and speed (config-if)#
duplex full
speed 100
end
!! configure auto-MDIX (config-if)#
duplex auto
speed auto
mdix auto
end
!!Verification commands #
show interfaces [int-id]
show startup-config
show running-config
show flash
show version
show history
sho ip [int-id]
show mac-address-table


!!  Port Security (config-if)
switchport mode access
switchport port-security
switchport port-security maximum 1
switchport port-security mac-address sticky

!! Security violation modes
!! protect - packets are dropped with no notification
switchport port-security violation protect
!! restrict - violation counter+packets are dropped with syslog notification
switchport port-security violation restrict
!! default- violation counter+, port shutsdown need to be manually no shut
switchport port-security violation shutdown

!!Verify Port Security Settings
show port-security interface [int-id]
show running-config
show port-security address


!! VLANs                  ###########CHAPTER 6##############
show vlan brief
!! (config)
vlan vlan-id
!! (config-vlan)
name vlan-name
end
!! create Multiple VLANs
vlan 100,102,105-107
!!VLAN port assignment (config-if)
switchport mode access
switchport access vlan 20
mls qos trust cos |device cisco-phone | dscp | ip-precedence
switchport voice vlan 150
end

!! removing vlan assignments (config-if)
no switchport access vlan
end

!! Deleting VLANs(config)
no vlan 20
end

!! delete the vlan.dat (#)
delete flash:vlan.dat
!! or
delete vlan.dat

!! Verifying VLAN Info
show vlan name student
show vlan summary
show interfaces vlan 20

!! Trunk Configuration (config-if)
switchport mode trunk
switchport non
switchport trunk native vlan 99
switchport trunk allowed vlan 10,20,30,99
end

!! Resetting Configured Values on Trunk Links (config-if)
no switchport trunk allowed vlan
no switchport trunk native vlan
end

!! Verifying Trunk Configuration (#)
show interfaces f0/1 switchport

!!Missing VLANs
show vlan                           show vlan
show mac address-table              show interfaces
                                    show interfaces swichport

Is port in correct VLAN?  --YES-->  VLAN in VLAN DB? --YES--> Verify connections in VLAN
 ^           |               ^              |
 |           No              |             No
 |           |               |              V
 |           V               L__ Make VLAN in VLAN DB
 L__Assign port to VLAN

 !! Verifying Trunk Configuration (#)
show interfaces f0/1 switchport

!!Troubleshooting Trunks
show interfaces trunk               show interfaces trunk

Native VLAN on local              Trunk modes on local
and peer ports match  ---YES--->  and peer ports compatible  --YES--> Operational
 ^           |               ^              |
 |           No              |             No
 |           |               |              V
 |           V               L__ Statically configure
 L__Change native VLAN           ports on both devices
                                 to trunk


!! Router on a Stick (config)#
int g0/0.10
encapsulation dot1q 10
ip address a.b.c.d w.x.y.z
int g0/0.30
encapsulation dot1q 30
ip address a.b.c.d w.x.y.z
interface g0/0
no shutdown

!!Router On a Stick  verify #
show vlan
show ip route

!             CHAPTER 7 ACL
!
! Access List (config)
! any host
access-list 1 permit 0.0.0.0 255.255.255.255
!or
access-list 1 permit any

! one host
access-list 1 permit 192.168.10.10 0.0.0.0
!or
access-list 1 permit host 192.168.10.10

! Configuring Standard ACL's
access-list 1 permit 192.168.10.0 0.0.0.255
interface serial 0/0/0
ip access-group 1 out

! Deny a Specific Host and Permit a Specific Subnet (config)
no access-list 1
access-list 1 deny host 192.168.10.10
access-list 1 permit 192.168.10.0 0.0.0.255
interface S0/0/0
ip access-group 1 out

!! (Method 1) To edit an ACL you must remove it with
no access-list 1
!! Then reenter the ACL you may want to copy the previous version from
!! Running-configuration and edit in a text editor

!! (Method 2) Edit with sequence numbers
show access-lists 1
!!enter the ACL
ip access-lists standard 1
!! remove the line number with the error
no 10
10 deny host 192.168.10.10
!! verify your work
show access-lists

!! Adding a Line to a Named ACL
show access-lists
cont t
ip access-list NO_ACCESS
15 deny host 192.168.11.11
end
show access-lists
!! The no sequence-number is used to delete individual statements
!! Use show ip interface   to verify ACL on interface
!! show access-lists    will also show statistics

! Securing VTY with ACL
line vty 0 4
login local
transport ssh
access-class 21 in
exit
access-list 21 permit a.b.c.d r.s.n.m
access-list 21 deny any
